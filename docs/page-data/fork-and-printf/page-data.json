{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/fork-and-printf/","result":{"data":{"site":{"siteMetadata":{"title":"Donald33 D. Nevermore"}},"markdownRemark":{"id":"a00b0124-3eb3-5c3b-b7ff-d7ba36c337b5","excerpt":"is non-deterministic, and sometime this can be a real problem. To solve this kind of problem, you may need to rely on your previous experience. One day whenâ€¦","html":"<p><code class=\"language-text\">fork()</code> is non-deterministic, and sometime this can be a real problem. To solve this kind of problem, you may need to rely on your previous experience.</p>\n<p>One day when experimenting on <code class=\"language-text\">fork()</code>, I got a strange print message:</p>\n<p><img src=\"\" alt=\"output\"></p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>I was surprised and could not figure out why for a while. Since I am using CLion and WSL 2, I soon realized that maybe it was the fault of CLion. So I ran the executable myself. A different print message came to my eyes.</p>\n<p>No wonder.</p>\n<p>After a long time of thinking, I related to procedures of how shells work. When you type in a command and hit enter, the shell program first creates a process to run that command. The control soon returns to the shell after the command program is finished. However, if the command program creates a subprocess, and the subprocess is still running even if the main process has already returned, this can happen.</p>\n<p>In order to check my assumption, I decided to <code class=\"language-text\">wait()</code> for the child process to finish. And this time it worked perfectly.</p>\n<p>Be careful of the environment you are using. Search the database in your brain.</p>","frontmatter":{"title":"fork and printf","date":"2021-04-23, 01:36 pm","update":"2021-04-23, 01:36 pm","description":"blogs"}},"previous":{"fields":{"slug":"/the-road-not-taken/"},"frontmatter":{"title":"The Road Not Taken"}},"next":null},"pageContext":{"id":"a00b0124-3eb3-5c3b-b7ff-d7ba36c337b5","previousPostId":"50dce777-5beb-5e19-9ccb-6dc70d85c825","nextPostId":null}},"staticQueryHashes":["2598436127","2841359383","4151098094"]}